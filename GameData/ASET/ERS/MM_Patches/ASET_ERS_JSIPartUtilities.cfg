
//	**** ASET ERS JSIPartUtilities Patch
//  ********************************************


//==== NODES MANAGEMENT ========================================

//----------- Top Node  -----------------------------------
@PART[ERSCabin,ERSCargoModule,ERS_ACM,ERS_CCM,ERSCrewModule,ERSSDP]:NEEDS[JSIPartUtilities]
{
	MODULE
	{
		name = JSIPartComponentGroup
		groupID = TopNode
		areComponentsEnabled = true
		persistAfterEditor = false
		activeInEditor = true
		activeInFlight = false
		activeWhenUnfocused = false
		enableMenuString = - TOP Node
		disableMenuString = + TOP Node
		showToggleOption = false
		managedNodes = m1
	}
}

@PART[ERSSDP]:NEEDS[JSIPartUtilities]
{
	@MODULE[JSIPartComponentGroup]
	{
		@managedNodes = t
	}
}

//----------- Bottom Node  ---------------------------------
@PART[ERSSDP]:NEEDS[JSIPartUtilities]
{
    MODULE
    {
        name = JSIPartComponentGroup
        groupID = BottomNode
        areComponentsEnabled = true
        persistAfterEditor = true
        activeInEditor = true
        activeInFlight = true
        activeWhenUnfocused = false
        enableMenuString = - BOTTOM Node
        disableMenuString = + BOTTOM Node
        showToggleOption = false
        managedNodes = b2
    }
}

//----------- WHEEL NODES ---------------------------------
@PART[ERSCargoModule,ERS_ACM,ERS_CCM,ERSCrewModule]:NEEDS[JSIPartUtilities]
{
    //----------- Wheel Front Nodes -------------------------
    MODULE
    {
        name = JSIPartComponentGroup
        groupID = WheelFrontNodes
        areComponentsEnabled = true
        persistAfterEditor = false
        activeInEditor = true
        activeInFlight = false
        activeWhenUnfocused = false
        enableMenuString = - FRONT WHEEL Nodes
        disableMenuString = + FRONT WHEEL Nodes
        showToggleOption = false
        managedNodes = WR1|WL1
    }

    //----------- Wheel Back Nodes ---------------------------
    MODULE
    {
        name = JSIPartComponentGroup
        groupID = WheelBackNodes
        areComponentsEnabled = true
        persistAfterEditor = false
        activeInEditor = true
        activeInFlight = false
        activeWhenUnfocused = false
        enableMenuString = - BACK WHEEL Nodes
        disableMenuString = + BACK WHEEL Nodes
        showToggleOption = false
        managedNodes = WR2|WL2
    }
}

@PART[ERSSM]:NEEDS[JSIPartUtilities]
{
    //----------- Wheel Nodes ---------------------------
	MODULE
	{
		name = JSIPartComponentGroup
		groupID = WheelFrontNodes
		areComponentsEnabled = true
		persistAfterEditor = false
		activeInEditor = true
		activeInFlight = false
		activeWhenUnfocused = false
		enableMenuString = - WHEEL Nodes
		disableMenuString = + WHEEL Nodes
		showToggleOption = false
		managedNodes = WR|WL
	}
}


//---- REAR-CENTRAL NODE -------------------------------------
@PART[ERSSM]:NEEDS[JSIPartUtilities]
{
	MODULE
	{
		name = JSIPartComponentGroup
		groupID = CentralBackNode
		areComponentsEnabled = true
		persistAfterEditor = false
		activeInEditor = true
		activeInFlight = false
		activeWhenUnfocused = false
		enableMenuString = - CENTRAL BACK Node
		disableMenuString = + CENTRAL BACK Node
		showToggleOption = false
		managedNodes = bc
	}
}


//==== WHEELS COMPONENTS --------------------------------------

@PART[ERS_Wheel_BCK,ERS_Wheel_FWD]:NEEDS[JSIPartUtilities]
{
    //----------- Hide/Show Ground Mesh Components Control ----
	MODULE
	{
		name = JSIPartComponentToggle
		moduleID = ERS_Wheel_GroundMesh
		componentName = ERS_GroundMesh
		componentIsEnabled = false
		controlRendering = true
		controlColliders = true
		activeInEditor = true
		activeInFlight = false
		activeWhenUnfocused = false
		persistAfterEditor = false
		toggleMenuString = Toggle Ground
		showEnableDisableOption = false
		showToggleOption = true
	}

    //------------ Tire Forward Pattern----------------------- 
	MODULE
	{
		name = JSIPartComponentToggle
		moduleID = ForwardTire
		componentName = WheelsTire01FWD,WheelsTire02FWD
		componentIsEnabled = true
		controlRendering = true
		controlColliders = true
		activeInEditor = true
		activeInFlight = false
		activeWhenUnfocused = false
		toggleMenuString = Toggle Tread Pattern
		showEnableDisableOption = false
		showToggleOption = false
	}

    //----------- Tire Backward Pattern ----------------------
	MODULE
	{
		name = JSIPartComponentToggle
		moduleID = BackwardTire
		componentName = WheelsTire01BCK,WheelsTire02BCK
		componentIsEnabled = true
		controlRendering = true
		controlColliders = true
		activeInEditor = true
		activeInFlight = false
		activeWhenUnfocused = false
		toggleMenuString = Toggle Tread Pattern
		showEnableDisableOption = false
		showToggleOption = false
	}

    //----------- Tire Groups ---------------------------------
	MODULE
	{
		name = JSIPartComponentGroup
		groupID = TireToggle
		areComponentsEnabled = true
		persistAfterEditor = true
		activeInEditor = true
		activeInFlight = false
		activeWhenUnfocused = false
		componentToggles = !BackwardTire|ForwardTire
		toggleMenuString = Toggle Tire Tread
		showEnableDisableOption = false
		showToggleOption = true
	}	
}


//==== TANK OPTIONS ===============================================

@PART[ERSSM]:NEEDS[JSIPartUtilities]
{
	//------ ???? -------------------------------------------
	MODULE
	{
		name = JSIPartComponentToggle
		moduleID = BatteryBank_Comp
		//componentName = 
		componentIsEnabled = false
		controlRendering = false
		controlColliders = false
		activeInEditor = true
		activeInFlight = false
		showEnableDisableOption = false
		showToggleOption = false
		costOfBeingEnabled = 5000
		massOfBeingEnabled = 0.250
	}
	
	//------ ???? -------------------------------------------
	MODULE
	{
		name = JSIPartComponentToggle
		moduleID = FC_Comp
		//componentName = 
		componentIsEnabled = false
		controlRendering = false
		controlColliders = false
		activeInEditor = true
		activeInFlight = false
		showEnableDisableOption = false
		showToggleOption = false
		costOfBeingEnabled = 1800
		massOfBeingEnabled = 0.260
	}

	//------ Large Battery Pack -----------------------------
	MODULE
	{
		name = JSIPartComponentGroup
		groupID = BatteryBank
		activeInEditor = true
		activeInFlight = false
		areComponentsEnabled = false
		showEnableDisableOption = false
		enableMenuString = Battery Pack
		disableMenuString = Fuel Cell
		componentToggles = BatteryBank_Comp|!FC_Comp
		showToggleOption = false
		//costOfBeingEnabled = 5000
		managedResources = ElectricCharge,5000
		moduleToggles = !ModuleResourceConverter,0
	}
	
	//------ Fuel Cell w/Battery ---------------------------
	MODULE
	{
		name = JSIPartComponentGroup
		groupID = FuelCell
		activeInEditor = true
		activeInFlight = false
		areComponentsEnabled = false
		showEnableDisableOption = false
		enableMenuString = Battery Pack
		disableMenuString = Fuel Cell
		componentToggles = FC_Comp|!BatteryBank_Comp
		showToggleOption = false
		//costOfBeingEnabled = 2500
		managedResources = LiquidFuel,81|Oxidizer,99
		moduleToggles = ModuleResourceConverter,0
	}
	
	//------ Fuel Cell with Battery ??----------------------
	MODULE
	{
		name = JSIGroupSelector
		activeInEditor = true
		activeInFlight = false
		//areComponentsEnabled = false
		stateGuiName = Power
		nextMenuButton = Next Power Option
		previousMenuButton = Previous Power Option
		groupStateList = BatteryBank, FuelCell
	}

	//------ Rover ID Number ----------------------
	MODULE
	{
		name = JSIPartComponentToggle
		moduleID = SMNumbers
		componentName = ERSSMNumPlate
		componentIsEnabled = true
		controlRendering = true
		controlColliders = true
		activeInEditor = true
		activeInFlight = false
		activeWhenUnfocused = false
		enableMenuString = Show Numbers
		disableMenuString = Hide Numbers
		showEnableDisableOption = true
		showToggleOption = false
	}
}


//==== HIDE/SHOW BOTTOM BAY ===============================================

@PART[ERSCrewModule]:NEEDS[JSIPartUtilities]
{
    MODULE
    {
        name = JSIPartComponentToggle
        moduleID = CrewModuleBottom
        componentName = ERSCrewModuleBottomObj
        componentIsEnabled = true
        controlRendering = true
        controlColliders = true
        activeInEditor = true
        activeInFlight = true
        activeWhenUnfocused = false
        persistAfterEditor = false
        toggleMenuString = Toggle Bay
        showEnableDisableOption = false
        showToggleOption = true
    }
}


//==== FLAGS MANAGEMENT ===============================================

@PART[ERSCabin]:NEEDS[JSIPartUtilities]
{
    //----------- 1 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $RANDOM$
        flagTransform = ERSCabineFlagPlate01
        menuString = Flag R1
    }

    //----------- 2 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $RANDOM$
        flagTransform = ERSCabineFlagPlate02
        menuString = Flag R2
    }

    //----------- 3 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $SPONSOR$
        flagTransform = ERSCabineFlagPlate03
        menuString = Flag R3
    }
}

@PART[ERSCargoModule]:NEEDS[JSIPartUtilities]
{
    //----------- 1 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $RANDOM$
        flagTransform = ERS_CM_FlagPlate01
        menuString = Cargo Door flag #1
    }

    //----------- 2 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $RANDOM$
        flagTransform = ERS_CM_FlagPlate02
        menuString = Cargo Door flag #2
    }

    //----------- 3 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $SPONSOR$
        flagTransform = ERS_CM_FlagPlate03
        menuString = Cargo Door flag #3
    }

    //----------- 4 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $SPONSOR$
        flagTransform = ERS_CM_FlagPlate04
        menuString = Cargo Door flag #4
    }
}

@PART[ERS_ACM]:NEEDS[JSIPartUtilities]
{
    //----------- 1 Flag ---------------------------------------------
	MODULE
	{
		name = JSISelectableFlagDecal
	//	defaultFlag = $SPONSOR$
		flagTransform = ERS_ACM_FlagPlate01
		menuString = Cargo Door flag #1
	}

    //----------- 2 Flag ---------------------------------------------
	MODULE
	{
		name = JSISelectableFlagDecal
	//	defaultFlag = $SPONSOR$
		flagTransform = ERS_ACM_FlagPlate02
		menuString = Cargo Door flag #2
	}
}

@PART[ERS_CCM]:NEEDS[JSIPartUtilities]
{
    //----------- 1 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $RANDOM$
        flagTransform = ERS_CCM_FlagPlate01
        menuString = Crew Cab flag #1
    }

    //----------- 2 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $RANDOM$
        flagTransform = ERS_CCM_FlagPlate02
        menuString = Crew Cab flag #2
    }

    //----------- 3 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $SPONSOR$
        flagTransform = ERS_CCM_FlagPlate03
        menuString = Crew Cab flag #3
    }

    //----------- 4 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $SPONSOR$
        flagTransform = ERS_CCM_FlagPlate04
        menuString = Crew Cab flag #4
    }

    //----------- 5 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $SPONSOR$
        flagTransform = ERS_CCM_FlagPlate05
        menuString = Cargo Door flag #1
    }


    //----------- 6 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $SPONSOR$
        flagTransform = ERS_CCM_FlagPlate06
        menuString = Cargo Door flag #2
    }
}	

@PART[ERSCrewModule]:NEEDS[JSIPartUtilities]
{
    //----------- 1 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $RANDOM$
        flagTransform = ERSCMFlagPlate01
        menuString = Crew Cab flag #1
    }

    //----------- 2 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $RANDOM$
        flagTransform = ERSCMFlagPlate02
        menuString = Crew Cab flag #2
    }

    //----------- 3 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $SPONSOR$
        flagTransform = ERSCMFlagPlate03
        menuString = Crew Cab flag #3
    }

    //----------- 4 Flag --------------------------------------------
    MODULE
    {
        name = JSISelectableFlagDecal
    //	defaultFlag = $SPONSOR$
        flagTransform = ERSCMFlagPlate04
        menuString = Crew Cab flag #4
    }
}









